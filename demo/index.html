<!doctype html>
<html>
  <meta charset="utf-8">
  <head>
    <title>Sharpie Demo</title>
    <script src="../dist/sharpie.js" type="text/javascript"></script>
    <link href="https://fonts.googleapis.com/css?family=Eczar:400,700|Fira+Code:400,700|Sail&display=swap&subset=cyrillic,latin-ext" rel="stylesheet">
  </head>
  <style type="text/css">
    #sample {
      font-family: 'Eczar', serif;
      padding: 1em;
      position: absolute;
      left: 0;
      top: 0;
      width: 49%;
    }
    #output {
      font-family: 'Fira Code', monospace;
      padding: 1em;
      position: absolute;
      right: 0;
      top: 0;
      width: 49%;
    }
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Sail', cursive;
    }
  </style>
  <body>
    <div id="sample"></div>
    <div id="output"> hi</div>
    <script type="text/javascript">
const txt = `Book One

One morning, in a flat in one of the great buildings in Gorokliovaia \
Street,1 the population of which was sufficient to constitute that of \
a provincial town, there was lying in bed a gentleman named Ilya Ilyitch \
Oblomov. He was a fellow of a little over thirty, of medium height, and \
of pleasant exterior. Unfortunately, in his dark-grey eyes there was an \
absence of any definite idea, and in his other features a total lack of \
concentration. Suddenly a thought would wander across his face with \
the freedom of a bird, flutter for a moment in his eyes, settle on his \
half-opened lips, and remain momentarily lurking in the lines of his \
forehead. Then it would disappear, and once more his face would glow \
with a radiant insouciance which extended even to his attitude and the \
folds of his night-robe. At other times his glance would darken as with \
weariness or ennui. Yet neither the one nor the other expression could \
altogether banish from his countenance that gentleness which was the \
ruling, the fundamental, characteristic, not only of his features, but \
also of the spirit it which lay beneath them. That spirit shone in \
his eyes, in his smile, and in his every movement of hand and head. On \
glancing casually at Oblomov a cold, a superficially observant person \
would have said, “Evidently he is good-natured, but a simpleton;” \
 whereas a person of greater penetration and sympathy than the first \
would have prolonged his glance, and then gone on his way thoughtfully, \
and with a smile as though he were pleased with something.

1 The main street in Petrograd.

Oblomov’s face was neither reddy nor dull nor pale, but of an indefinite \
hue. At all events, that was the impression which it gave--possibly \
because, through insufficiency of exercise, or through want of fresh \
air, or through a lack of both, he was wrinkled beyond his years. In \
general, to judge from the extreme whiteness of his bare neck, his \
small, puffy hands, and his soft shoulders, one would conclude that \
he possessed an effeminate body. Even when excited, his actions were \
governed by an unvarying gentleness, added to a lassitude that was not \
devoid of a certain peculiar grace. On the other hand, should depression \
of spirits show itself in his face, His glance would grow dull, and \
his brow furrowed, as doubt, despondency, and apprehension fell \
to contending with one another. Yet this crisis of emotion seldom \
crystallized into the form of a definite idea--still less into that of \
a fixed resolve. Almost always such emotion evaporated in a sigh, and \
shaded off into a sort of apathetic lethargy.

Oblomov’s indoor costume corresponded exactly with the quiet outlines \
of his face and the effeminacy of his form. The costume in question \
consisted of a dressing-gown of some Persian material--a real Eastern \
dressing-gown--a garment that was devoid both of tassels and velvet \
facings and a waist, yet so roomy that Oblomov might have wrapped \
himself in it once or twice over. Also, in accordance with the immutable \
custom of Asia, its sleeves widened steadily from knuckles to shoulder. \
True, it was a dressing-gown which had lost its pristine freshness, and \
had, in places, exchanged its natural, original sheen for one acquired \
by hard wear; yet still it retained both the clarity of its Oriental \
colouring and the soundness of its texture. In Oblomov’s eyes It was a \
garment possessed of a myriad invaluable qualities, for it was so soft \
and pliable that, when wearing it, the body was unaware of its presence, \
and, like an obedient slave, it answered even to the slightest movement. \
Neither waistcoat nor cravat did Oblomov wear when indoors, since he \
loved freedom and space. For the same reason his slippers were long, \
soft, and broad, to the end that, whenever he lowered his legs from the \
bed to the floor without looking at what he was doing, his feet might \
fit into the slippers at once.`;
      Sharpie.renderHTML(document.getElementById("sample"), txt, [
          {
            type: "markup",
            start: 0,
            end: 8,
            meta: {
              htmlTagName: "h1"
            }
          },
          {
            type: "markup",
            start: 86,
            end: 87,
            meta: {
              htmlTagName: "sup"
            },
          },
          {
            type: "markup",
            start: 1544,
            end: 1545,
            meta: {
              htmlTagName: "sup"
            },
          },
          {
            type: "markup",
            start: 1544,
            end: 1575,
            meta: {
              htmlTagName: "em"
            },
          },
          {
            type: "markup",
            start: 730,
            end: 741,
            meta: {
              htmlTagName: "em",
            },
          },
          {
            type: "markup",
            start: 871,
            end: 876,
            meta: {
              htmlTagName: "em",
            },
          },
          // Test Overlap
          {
            type: "markup",
            start: 168,
            end: 230,
            meta: {
              htmlTagName: "strong",
            },
          },
          {
            type: "markup",
            start: 200,
            end: 250,
            meta: {
              htmlTagName: "em",
            },
          },
          {
            type: "markup",
            start: 220,
            end: 300,
            meta: {
              htmlTagName: "span",
            },
            format: {
              color: "blue",
            },
          },
          {
            type: "markup",
            start: 1519,
            end: 1600,
            meta: {
              htmlTagName: "span",
            },
            format: {
              color: "red",
            },
          },
          {
            type: "markup",
            start: 1558,
            end: 1650,
            meta: {
              htmlTagName: "span",
            },
            format: {
              bgColor: "yellow",
              opacity: 0.6,
            },
          },
          // Test redactions
          {
            type: "redaction",
            start: 973,
            end: 983,
            content: "REDACTED",
          },
          {
            type: "redaction",
            start: 671,
            end: 749,
          },
          {
            type: "redaction",
            start: 2579,
            end: 2700,
            extent: 5,
          },
        ]);

      Sharpie.watch(document.getElementById("sample"));
    </script>
  </body>
</html>
